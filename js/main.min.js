const app=new PIXI.Application({width:1320,height:630});document.body.appendChild(app.view);const logo=PIXI.Sprite.from("./assets/logo.png"),final=PIXI.Sprite.from("./assets/final.png"),bg=PIXI.Sprite.from("./assets/back.jpg"),table=PIXI.Sprite.from("./assets/table.png"),globe=PIXI.Sprite.from("./assets/globe.png"),plant=PIXI.Sprite.from("./assets/plant.png"),plant2=PIXI.Sprite.from("./assets/plant2.png"),dec1=PIXI.Sprite.from("./assets/dec_1.png"),book=PIXI.Sprite.from("./assets/book_stand.png"),sofa=PIXI.Sprite.from("./assets/sofa.png"),austin=PIXI.Sprite.from("./assets/austin.png");bg.width=app.screen.width,bg.height=app.screen.height,app.stage.addChild(bg,sofa,table,globe,plant,plant2,book,austin),sofa.anchor.set(.5),sofa.x=220,sofa.y=app.screen.height-.25*app.screen.height,table.anchor.set(.5),table.x=300,table.y=app.screen.height-.5*app.screen.height,globe.anchor.set(.5),globe.x=110,globe.y=app.screen.height-.65*app.screen.height,plant.anchor.set(.5),plant.x=500,plant.y=50,plant2.anchor.set(.5),plant2.x=1140,plant2.y=230,book.anchor.set(.5),book.x=860,book.y=70,austin.anchor.set(.5),austin.x=700,austin.y=240;const stairs=[PIXI.Sprite.from("./assets/new_stair_01.png"),PIXI.Sprite.from("./assets/new_stair_02.png"),PIXI.Sprite.from("./assets/new_stair_03.png")],stairOld=PIXI.Sprite.from("./assets/old_stair.png"),stairSize=500,stairPosition=[1080,265];app.stage.addChild(stairOld);for(let t=0;t<stairs.length;t++)stairs[t].width=500,stairs[t].anchor.set(.5),stairs[t].position.set(stairPosition[0],stairPosition[1]-50),stairs[t].visible=!1,stairs[t].alpha=0,app.stage.addChild(stairOld,stairs[t]);stairOld.width=520,stairOld.height=520,stairOld.anchor.set(.5),stairOld.position.set(1066,320),stairOld.visible=!0;const textureHammerBtn=PIXI.Texture.from("./assets/hammer.png"),hammerBtn=new PIXI.Sprite(textureHammerBtn);function hummerlick(){hammerBtn.visible=!1,showHideMenuBtn()}function showHideMenuBtn(){for(let t=0;t<menuButtons.length;t++)menuButtons[t].visible=!menuButtons[t].visible;menuButtonsImage1.visible=!menuButtonsImage1.visible,menuButtonsImage2.visible=!menuButtonsImage2.visible,menuButtonsImage3.visible=!menuButtonsImage3.visible}function animateHummer(){hammerBtn.alpha<1&&(hammerBtn.alpha+=.02,hammerBtn.y<300&&(hammerBtn.y+=5),requestAnimationFrame(animateHummer))}hammerBtn.anchor.set(.5),hammerBtn.x=1090,hammerBtn.y=250,hammerBtn.visible=!1,hammerBtn.interactive=!0,hammerBtn.buttonMode=!0,hammerBtn.alpha=0,app.stage.addChild(hammerBtn),hammerBtn.on("pointerdown",hummerlick),setTimeout(()=>{hammerBtn.visible=!0,animateHummer()},3e3);const menuButtonBg=PIXI.Texture.from("./assets/btnbg.png"),menuButtonSize=130,menuActiveButton=PIXI.Texture.from("./assets/btnchoosed.png"),menuButtons=[],menuButtonsImage1=PIXI.Sprite.from("./assets/01.png"),menuButtonsImage2=PIXI.Sprite.from("./assets/02.png"),menuButtonsImage3=PIXI.Sprite.from("./assets/03.png"),menuButtonPositions=[735,865,995],ok=PIXI.Texture.from("./assets/ok.png"),menuButtonConfirm=new PIXI.Sprite(ok);let choosedStair;for(let t=0;t<3;t++){const e=new PIXI.Sprite(menuButtonBg);e.x=menuButtonPositions[t],e.y=5,e.id=t,e.width=130,e.height=130,e.interactive=!0,e.buttonMode=!0,e.on("pointerdown",menuButtonClick),app.stage.addChild(e),menuButtons.push(e),menuButtons[t].visible=!1}function menuButtonClick(){choosedStair=this.id;for(let t=0;t<menuButtons.length;t++)menuButtons[t].texture=menuButtonBg;this.texture=menuActiveButton,menuButtonConfirm.visible=!0,menuButtonConfirm.position.set(this.x-15,118);for(let t=0;t<stairs.length;t++)stairs[t].visible=!1,stairs[this.id].alpha=0,stairs[this.id].y=stairPosition[1];stairs[this.id].visible=!0,stairOld.visible=!1,showStair()}function confirmStair(){final.visible=!0,showHideMenuBtn()}function showStair(){stairs[choosedStair].alpha<1&&(stairs[choosedStair].alpha+=.02,stairs[choosedStair].y+=1,requestAnimationFrame(showStair))}menuButtonConfirm.visible=!1,menuButtonConfirm.buttonMode=!0,menuButtonConfirm.interactive=!0,menuButtonConfirm.on("pointerdown",confirmStair),menuButtonsImage1.position.set(menuButtons[0].x+23,menuButtons[0].y-7),menuButtonsImage2.position.set(menuButtons[1].x+27,menuButtons[1].y-8),menuButtonsImage3.position.set(menuButtons[2].x+23,menuButtons[2].y+2),menuButtonsImage1.visible=!1,menuButtonsImage2.visible=!1,menuButtonsImage3.visible=!1,app.stage.addChild(menuButtonsImage1,menuButtonsImage2,menuButtonsImage3,menuButtonConfirm),dec1.anchor.set(.5),dec1.x=1230,dec1.y=app.screen.height-100,app.stage.addChild(dec1),final.width=app.screen.width,final.height=app.screen.height,final.visible=!1,app.stage.addChild(final);const textureContinueBtn=PIXI.Texture.from("./assets/continue.png"),continueBtn=new PIXI.Sprite(textureContinueBtn);continueBtn.anchor.set(.5),continueBtn.x=app.screen.width/2-10,continueBtn.y=app.screen.height-.15*app.screen.height,continueBtn.interactive=!0,continueBtn.buttonMode=!0,app.stage.addChild(continueBtn);let elapsed=0;app.ticker.add(t=>{elapsed+=t/60;const e=1+.09*Math.sin(elapsed);continueBtn.scale.set(e)}),app.stage.addChild(logo);